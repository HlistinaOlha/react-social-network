"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[821],{5821:(s,e,t)=>{t.r(e),t.d(e,{default:()=>b});var o=t(2791);const r="Profile_main__EjfeH";var a=t(6070);const i="PostListItem_item__Dj27+",n="PostListItem_photo__OPZWd";var l=t(184);const d=s=>{let{message:e,likes:t}=s;return(0,l.jsxs)("li",{className:i,children:[(0,l.jsx)("div",{className:n}),(0,l.jsx)("span",{children:e}),(0,l.jsxs)("span",{children:["Likes: ",t]})]})},p={submitBtn:"PostList_submitBtn__u0FfT"};var c=t(6139),u=t(704),m=t(5304),x=t(7526);const h=(0,m.D)(5),f=(0,u.Z)({form:"post"})((s=>{let{handleSubmit:e}=s;return(0,l.jsxs)("form",{className:p.postForm,onSubmit:e,children:[(0,l.jsx)(c.Z,{component:x.Kx,name:"postText",validate:[m.C,h]}),(0,l.jsx)("button",{type:"submit",className:p.submitBtn,children:"Add post"})]})})),j=s=>{let{posts:e,addNewPost:t}=s;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(f,{onSubmit:s=>{t(s.postText)}}),(0,l.jsx)("ul",{children:[...e].reverse().map((s=>(0,l.jsx)(d,{message:s.message,likes:s.likes},s.id)))})]})};var v=t(8687);const g=(0,o.memo)((()=>{const s=(0,v.I0)(),e=(0,v.v9)((s=>s.profilePage.posts)),t=(0,v.v9)((s=>s.profilePage.postText));return(0,l.jsx)(j,{posts:e,postText:t,addNewPost:e=>{s((0,a.q2)(e))}})}));var P=t(7689);t(8570),t(6906);class _ extends o.Component{componentDidMount(){let s=this.props.id;s||(s=this.props.loggedInUserId),this.props.loadProfile(s),this.props.loadStatus(s)}render(){}}const I=function(){const s=(0,v.I0)(),e=(0,v.v9)((s=>s.profilePage.profile)),t=(0,v.v9)((s=>s.profilePage.currentUser)),o=(0,v.v9)((s=>s.profilePage.status)),r=(0,v.v9)((s=>s.auth.userId)),i=(0,P.UO)().id,n=(null===e||void 0===e?void 0:e.userId)===r,d=(0,P.s0)();return(0,l.jsx)(_,{profile:e,currentUser:t,id:i,loggedInUserId:r,goBack:()=>d(-1),loadProfile:e=>{s((0,a.Ai)(e))},status:o,loadStatus:e=>{s((0,a.lR)(e))},changeStatus:e=>{n&&s((0,a.Nf)(e))},changeImage:(e,t)=>{s((0,a.Ix)(e,t))},isProfileCurrentUser:n})},b=()=>(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)(I,{}),(0,l.jsx)(g,{})]})}}]);
//# sourceMappingURL=821.04d41a6c.chunk.js.map